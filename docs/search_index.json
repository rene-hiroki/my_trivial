[
["index.html", "æ—¥ã€…ã®é›‘å­¦ ã¯ã˜ã‚ã« 0.1 ç’°å¢ƒ", " æ—¥ã€…ã®é›‘å­¦ Akiyama Hiroki æœ€çµ‚æ›´æ–°æ—¥: 2020-06-29 ã¯ã˜ã‚ã« ä½œæˆä¸­ã§ã™ hogehoge fugafuga 0.1 ç’°å¢ƒ sessionInfo() R version 3.6.3 (2020-02-29) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows 10 x64 (build 18363) Matrix products: default locale: [1] LC_COLLATE=Japanese_Japan.932 LC_CTYPE=Japanese_Japan.932 LC_MONETARY=Japanese_Japan.932 LC_NUMERIC=C [5] LC_TIME=Japanese_Japan.932 attached base packages: [1] stats graphics grDevices utils datasets methods base other attached packages: [1] plotly_4.9.2.1 stringi_1.4.6 leaflet_2.0.3 ggmap_3.0.0 DT_0.14 lubridate_1.7.9 jsonlite_1.7.0 bookdown_0.20 [9] here_0.1 ggrepel_0.8.2 naniar_0.5.1 patchwork_1.0.1 NbClust_3.0 factoextra_1.0.7 yardstick_0.0.6 workflows_0.1.1 [17] tune_0.1.0 rsample_0.0.7 recipes_0.1.13 parsnip_0.1.1 infer_0.5.2 dials_0.0.7 scales_1.1.1 broom_0.5.6 [25] tidymodels_0.1.0 forcats_0.5.0 stringr_1.4.0 dplyr_1.0.0 purrr_0.3.4 readr_1.3.1 tidyr_1.1.0 tibble_3.0.1 [33] ggplot2_3.3.2 tidyverse_1.3.0 loaded via a namespace (and not attached): [1] pacman_0.5.1 utf8_1.1.4 tidyselect_1.1.0 lme4_1.1-23 htmlwidgets_1.5.1 grid_3.6.3 [7] pROC_1.16.2 munsell_0.5.0 codetools_0.2-16 statmod_1.4.34 future_1.17.0 miniUI_0.1.1.1 [13] withr_2.2.0 colorspace_1.4-1 knitr_1.29 rstudioapi_0.11 stats4_3.6.3 ggsignif_0.6.0 [19] bayesplot_1.7.2 listenv_0.8.0 labeling_0.3 rstan_2.19.3 RgoogleMaps_1.4.5.3 DiceDesign_1.8-1 [25] farver_2.0.3 rprojroot_1.3-2 vctrs_0.3.1 generics_0.0.2 ipred_0.9-9 xfun_0.15 [31] R6_2.4.1 markdown_1.1 rstanarm_2.19.3 bitops_1.0-6 lhs_1.0.2 assertthat_0.2.1 [37] promises_1.1.1 nnet_7.3-14 gtable_0.3.0 globals_0.12.5 processx_3.4.2 timeDate_3043.102 [43] rlang_0.4.6 splines_3.6.3 rstatix_0.6.0 lazyeval_0.2.2 inline_0.3.15 abind_1.4-5 [49] yaml_2.2.1 reshape2_1.4.4 modelr_0.1.8 tidytext_0.2.4 threejs_0.3.3 crosstalk_1.1.0.1 [55] backports_1.1.8 httpuv_1.5.4 rsconnect_0.8.16 tokenizers_0.2.1 tools_3.6.3 lava_1.6.7 [61] ellipsis_0.3.1 ggridges_0.5.2 Rcpp_1.0.4.6 plyr_1.8.6 base64enc_0.1-3 ps_1.3.3 [67] prettyunits_1.1.1 ggpubr_0.4.0 rpart_4.1-15 zoo_1.8-8 cluster_2.1.0 haven_2.3.1 [73] fs_1.4.1 furrr_0.1.0 magrittr_1.5 data.table_1.12.8 openxlsx_4.1.5 colourpicker_1.0 [79] reprex_0.3.0 GPfit_1.0-8 SnowballC_0.7.0 packrat_0.5.0 matrixStats_0.56.0 tidyposterior_0.0.3 [85] hms_0.5.3 shinyjs_1.1 mime_0.9 evaluate_0.14 xtable_1.8-4 tidypredict_0.4.5 [91] shinystan_2.5.0 jpeg_0.1-8.1 rio_0.5.16 readxl_1.3.1 gridExtra_2.3 rstantools_2.0.0 [97] compiler_3.6.3 crayon_1.3.4 minqa_1.2.4 StanHeaders_2.21.0-5 htmltools_0.5.0 later_1.1.0.1 [103] visdat_0.5.3 RcppParallel_5.0.2 DBI_1.1.0 dbplyr_1.4.4 MASS_7.3-51.6 boot_1.3-25 [109] Matrix_1.2-18 car_3.0-8 cli_2.0.2 parallel_3.6.3 gower_0.2.2 igraph_1.2.5 [115] pkgconfig_2.0.3 sp_1.4-2 foreign_0.8-76 xml2_1.3.2 foreach_1.5.0 dygraphs_1.1.1.6 [121] prodlim_2019.11.13 rvest_0.3.5 janeaustenr_0.1.5 callr_3.4.3 digest_0.6.25 rmarkdown_2.3 [127] cellranger_1.1.0 curl_4.3 shiny_1.5.0 gtools_3.8.2 rjson_0.2.20 nloptr_1.2.2.1 [133] lifecycle_0.2.0 nlme_3.1-148 carData_3.0-4 viridisLite_0.3.0 fansi_0.4.1 pillar_1.4.4 [139] lattice_0.20-41 loo_2.2.0 fastmap_1.0.1 httr_1.4.1 pkgbuild_1.0.8 survival_3.2-3 [145] glue_1.4.1 xts_0.12-0 zip_2.0.4 png_0.1-7 shinythemes_1.1.2 iterators_1.0.12 [151] class_7.3-17 blob_1.2.1 "],
["01_android_analysis.html", "Chapter: 1 androidåˆ†æ 1.1 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æº–å‚™ 1.2 activityã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ 1.3 ã“ã“ã‹ã‚‰è§£æ", " Chapter: 1 androidåˆ†æ 1.1 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æº–å‚™ pacman::p_loadã‚’ä½¿ã†ã¨ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã¾ã¨ã‚ã¦èª­ã¿è¾¼ã‚“ã§ãã‚Œã¾ã™ã€‚ã¾ãŸã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹å ´åˆã¯ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã¤èª­ã¿è¾¼ã¿ã‚’è¡Œã£ã¦ãã‚Œã¾ã™ã€‚ pacmanãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚ # install.packages(pacman) pacman::p_load(tidyverse, jsonlite, patchwork, here, lubridate, update = FALSE) 1.2 activityã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ ã‚ã¨ã§æ›¸ã google takeout ã§æ¤œç´¢ 1.3 ã“ã“ã‹ã‚‰è§£æ 1.3.1 activityã®èª­ã¿è¾¼ã¿ android &lt;- jsonlite::fromJSON(here(&quot;data/android_activity.json&quot;)) 1.3.2 èª­ã¿è¾¼ã‚“ã activityãƒ‡ãƒ¼ã‚¿ã®æ¦‚è¦ç¢ºèª glimpse(android) Rows: 63,120 Columns: 5 $ header [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;ã³ã‚ˆãƒ¼ã‚“ã£ãŸãƒ¼ Pro&quot;, &quot;Nova Launcher ãƒ›ãƒ¼ãƒ &quot;, &quot;Gmail&quot;, &quot;Slack&quot;, &quot;Nova Launcher ãƒ›ãƒ¼ãƒ &quot;, &quot;com.android.systemui&quot;, &quot;LINEï¼ˆãƒ©ã‚¤ãƒ³ï¼‰ - ç„¡æ–™é€šè©±ãƒ»ãƒ¡... $ title [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;ä½¿ç”¨: ã³ã‚ˆãƒ¼ã‚“ã£ãŸãƒ¼ Pro&quot;, &quot;ä½¿ç”¨: Nova Launcher ãƒ›ãƒ¼ãƒ &quot;, &quot;ä½¿ç”¨: Gmail&quot;, &quot;ä½¿ç”¨: Slack&quot;, &quot;ä½¿ç”¨: Nova Launcher ãƒ›ãƒ¼ãƒ &quot;, &quot;ä½¿ç”¨: com.android.system... $ titleUrl [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;https://play.google.com/store/apps/details?id=com.ABS104a.biyontterpro&quot;, &quot;https://play.google.com/store/apps/details?... $ time [3m[38;5;246m&lt;chr&gt;[39m[23m &quot;2020-04-16T21:29:57.048Z&quot;, &quot;2020-04-16T21:29:54.832Z&quot;, &quot;2020-04-16T21:29:28.111Z&quot;, &quot;2020-04-16T21:27:42.460Z&quot;, &quot;2020-... $ products [3m[38;5;246m&lt;list&gt;[39m[23m [&quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Android&quot;, &quot;Andro... 1.3.3 timeãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ› android &lt;- android %&gt;% mutate(time = parse_datetime(time, locale = locale(tz = &quot;Japan&quot;)) ) %&gt;% mutate(date = lubridate::date(time), year = lubridate::year(time)) 1.3.4 å¹´æœˆã”ã¨ã®ãƒ‡ãƒ¼ã‚¿æ•°ã®é›†è¨ˆ 2018å¹´8æœˆä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ãŒå°‘ãªã„ã€‚ activityãƒ‡ãƒ¼ã‚¿ã®åé›†ãŒã†ã¾ãã„ã£ã¦ã„ãªã‹ã£ãŸï¼Ÿ android %&gt;% group_by(year, month(date)) %&gt;% count() # A tibble: 37 x 3 # Groups: year, month(date) [37] year `month(date)` n &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; 1 2016 12 2 2 2017 1 1 3 2017 2 56 4 2017 3 26 5 2017 5 6 6 2017 6 64 7 2017 7 12 8 2017 8 29 9 2017 9 32 10 2017 11 4 # ... with 27 more rows android %&gt;% count(date) %&gt;% ggplot() + geom_line(aes(date,n)) + scale_x_date(breaks = &quot;month&quot;, guide = guide_axis(n.dodge = 3)) 1.3.5 ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ 2019å¹´ã¨2020å¹´ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’ä½¿ã†ã“ã¨ã«ã™ã‚‹ã€‚ android_latest &lt;- android %&gt;% filter(year %in% c(2019, 2020)) ã‚¢ãƒ—ãƒªã®åå‰ãŒé•·ã„ã‹ã‚‰20æ–‡å­—ã¾ã§ã«ã™ã‚‹ã€‚ android_latest &lt;- android_latest %&gt;% mutate(header = if_else(str_length(header) &gt;= 20, substr(header, 1, 20), header)) android &lt;- android %&gt;% mutate(header = if_else(str_length(header) &gt;= 20, substr(header, 1, 20), header)) 1.3.6 ã‚¢ãƒ—ãƒªã®ä½¿ç”¨å›æ•°ï¼ˆ2019-2020ï¼‰ android_latest %&gt;% count(header, sort = TRUE) %&gt;% head(5) %&gt;% mutate(header = fct_reorder(header, n)) %&gt;% ggplot() + geom_col(aes(y = header, x = n)) + theme_minimal() + labs(title = &quot;Most used Apps - Overall&quot;, subtitle = &quot;Android Smartphone usage&quot;, caption = &quot;Data:Google Takeout&quot;) 1.3.7 ã‚¢ãƒ—ãƒªã®ä½¿ç”¨å›æ•°ï¼ˆã™ã¹ã¦ã®å¹´ï¼‰ android %&gt;% count(header, sort = TRUE) %&gt;% head(5) %&gt;% mutate(header = fct_reorder(header, n)) %&gt;% ggplot() + geom_col(aes(y = header, x = n)) + theme_minimal() + labs(title = &quot;Most used Apps - Overall&quot;, subtitle = &quot;Android Smartphone usage&quot;, caption = &quot;Data:Google Takeout&quot;) 1.3.8 æ¯”è¼ƒï¼ˆ2019 vs 2020ï¼‰ android_latest %&gt;% filter(year %in% &#39;2019&#39;) %&gt;% group_by(year, header) %&gt;% summarise(n = n()) %&gt;% arrange(desc(n)) %&gt;% head(5) %&gt;% #View() mutate(header = fct_reorder(header, n)) %&gt;% ggplot() + geom_col(aes(y = header, x = n)) + # facet_wrap(~year, scales = &quot;free&quot;) + theme_minimal() + labs(title = &quot;Most used Apps - 2019&quot;, subtitle = &quot;Android Smartphone usage&quot;, caption = &quot;Data:Google Takeout&quot;) -&gt; p2019 android_latest %&gt;% filter(year %in% &#39;2020&#39;) %&gt;% group_by(year, header) %&gt;% summarise(n = n()) %&gt;% arrange(desc(n)) %&gt;% head(5) %&gt;% #View() mutate(header = fct_reorder(header, n)) %&gt;% ggplot() + geom_col(aes(y = header, x = n)) + # facet_wrap(~year, scales = &quot;free&quot;) + theme_minimal() + labs(title = &quot;Most used Apps - 2020&quot;, subtitle = &quot;Android Smartphone usage&quot;, caption = &quot;Data:Google Takeout&quot;) -&gt; p2020 p2019 / p2020 "],
["02_standard_input.html", "Chapter: 2 æ¨™æº–å…¥åŠ› 2.1 readLines 2.2 ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è¨ˆç®—å‡¦ç† 2.3 ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¾ã›ã‚‹", " Chapter: 2 æ¨™æº–å…¥åŠ› æ¨™æº–å…¥åŠ›ã€ã¤ã¾ã‚Šã¯Pythonã§è¨€ã†ã¨ã“ã‚ã®input()ã‚’Rã§ã‚„ã‚ã†ã¨ã—ãŸã‚‰ã€ã‹ãªã‚Šè‹¦åŠ´ã—ãŸã®ã§tipsã¨ã—ã¦ã¾ã¨ã‚ã¦ãŠãã“ã¨ã«ã—ãŸã€‚ 2.1 readLines ãšã°ã‚ŠRã§æ¨™æº–å…¥åŠ›ã‚’ã™ã‚‹ã«ã¯readLinesã‚’ä½¿ã†ã€‚ãŸã ã—ã€ input_lines &lt;- readLines(&quot;stdin&quot;) ã“ã®ã‚ˆã†ã«\"stdin\"ã¨ã„ã†å¼•æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã€‚ãŠãã‚‰ãstandard input ã®ç•¥ã‹ä½•ã‹ã ã‚ã†ã€‚ æ³¨æ„ã™ã¹ãã¯ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’Rã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã—ã¦ã—ã¾ã†ã¨RãŒã†ã‚“ã¨ã‚‚ã™ã‚“ã¨ã‚‚è¨€ã‚ãªããªã£ã¦ã—ã¾ã†ã“ã¨ã€‚ è©³ã—ã„ç†ç”±ã¯ã‚ã‹ã‚‰ãªã„ãŒã€ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰ã®æ¨™æº–å…¥åŠ›ã‚’å—ã‘ã‚‹ã‚ˆã†ã«æŒ‡ç¤ºã—ã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œã—ã¦ã—ã¾ã†ã¨ãƒ€ãƒ¡ã€ã¨ã„ã†ã“ã¨ãªã®ã ã‚ã†ã‹ï¼ˆèª°ã‹æ•™ãˆã¦æ¬²ã—ã„ï¼‰ã€‚ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ä¸Šã§å®Ÿé¨“çš„ã«ã‚³ãƒ¼ãƒ‰ã‚’è©¦ã—ãŸã„å ´åˆã¯ã€readline()ã‚’ä½¿ãˆã°ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å…¥åŠ›å¾…ã¡çŠ¶æ…‹ã¨ãªã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã€‚ ãŸã¨ãˆã°stdin.Rã«ä¸‹è¨˜ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ãŠãã€ #! /usr/bin/env Rscript input_lines &lt;- readLines(&quot;stdin&quot;) cat(input_lines[1]) # catã¯æ¨™æº–å‡ºåŠ› ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¦stdin.Rã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ Rscript stdin.R ã™ã‚‹ã¨å…¥åŠ›å¾…ã¡çŠ¶æ…‹ã«ãªã‚‹ã®ã§ã€ä½•ã‹ã—ã‚‰è¨˜è¿°ã™ã‚‹ã€‚ Hello world! ãã—ã¦ã€ctrl + cã‚ã‚‹ã„ã¯ctrl + zã®å¾Œã«Enterã§å…¥åŠ›ã‚’çµ‚äº†ã™ã‚‹ã¨ï¼ˆä»–ã®æ–¹æ³•ã‚ã‚Šã¾ã™ã‹ï¼Ÿï¼‰ Hello world! ã¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«æ¨™æº–å‡ºåŠ›ãŒã§ãã‚‹ã€‚ 2.2 ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§è¨ˆç®—å‡¦ç† stdin.Rã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ãŠã‘ã°ã€æ¨™æº–å…¥åŠ›ã§å—ã‘å–ã£ãŸå€¤ã‚’ã€è¨ˆç®—å‡¦ç†ã‚’ã—ã¦ã‹ã‚‰è¿”ã™ã“ã¨ã‚‚ã§ãã‚‹ã€‚ #! /usr/bin/env Rscript # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã¤ã‹ãˆã‚‹ library(tidyverse) input_lines &lt;- readLines(&quot;stdin&quot;) x = as.integer(input_lines[1]) # 1ã¤ã‚ï¼ˆ1è¡Œç›®ã®å…¥åŠ›ï¼‰ y = as.integer(input_lines[2]) # 2ã¤ã‚ cat(x + y) 2.3 ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¾ã›ã‚‹ read_text.txtã‚’åˆ¥ã«ä»¥ä¸‹ã®ã‚ˆã†ã«æº–å‚™ã—ã¦ãŠãã€ ï¼ˆread_text.txtã®æœ€çµ‚è¡Œã«ã¯æ”¹è¡Œã‚’å…¥ã‚Œãªã„ã¨ã€ã‚ã¨ã§warningãŒå‡ºã‚‹ã®ã§æ³¨æ„ã™ã‚‹ã€‚ï¼‰ Hello world! stdin.Rã‚’ã“ã†ã—ã¦ãŠã #! /usr/bin/env Rscript input_lines &lt;- readLines(&quot;stdin&quot;) x = input_lines[1] y = input_lines[2] cat(x, y) ãã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ¬¡ã®ã‚ˆã†ã«ã™ã‚Œã°ã€read_text.txtã‹ã‚‰æ¨™æº–å…¥åŠ›ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ Rscript stdin.R &lt; read_text.txt ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å‡ºåŠ›ã¯ã“ã†ãªã‚‹ Hello world! ã“ã‚Œã§atcoderã«ã‚‚å‚æˆ¦ã§ãã‚‹ï¼ ï¼ˆatcoderã§Rã¯ä½¿ç”¨ä¸å¯ã€ã€ã€ï¼‰ "],
["03_ido_keido.html", "Chapter: 3 ç·¯åº¦çµŒåº¦ã‹ã‚‰ã¡ã‚‡ã£ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåœ°å›³ä½œæˆ 3.1 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿ 3.2 ãƒ‡ãƒ¼ã‚¿æº–å‚™ 3.3 ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®æ–‡å­—ä½œæˆ 3.4 ãƒãƒ¼ã‚«ãƒ¼ãƒªã‚¹ãƒˆ 3.5 åœ°å›³ã«ãƒ—ãƒ­ãƒƒãƒˆã™ã‚‹ 3.6 ãƒ‡ãƒ¼ã‚¿ä¸€è¦§ 3.7 ãƒãƒ¼ã‚«ãƒ¼ãƒªã‚¹ãƒˆ", " Chapter: 3 ç·¯åº¦çµŒåº¦ã‹ã‚‰ã¡ã‚‡ã£ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåœ°å›³ä½œæˆ å‚è€ƒã«ã—ãŸè¨˜äº‹ ã¨ã„ã†ã‹ã»ã¼ã“ã‚Œ https://rpubs.com/kazutan/jssp2015_leaflet 3.1 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿ library(tidyverse) library(here) library(DT) # è¡¨ä½œæˆç”¨ library(ggmap) # ä½æ‰€ãƒ»ç·¯åº¦çµŒåº¦å¯¾å¿œç”¨ library(leaflet) # ãƒ—ãƒ­ãƒƒãƒˆç”¨ library(stringi) # å…¨è§’ã‹ã‚‰åŠè§’å¤‰æ› 3.2 ãƒ‡ãƒ¼ã‚¿æº–å‚™ ç·¯åº¦çµŒåº¦å–å¾—å¾Œã®æƒ³å®šãƒ‡ãƒ¼ã‚¿ # æ±äº¬ãƒ‰ãƒ¼ãƒ  æ—¥æœ¬ã€ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½ï¼‘ä¸ç›®ï¼“âˆ’ï¼–ï¼‘ 35.7056396 139.7518913 # ç¦å³¶è–å¤©é€šå•†åº—è¡— æ—¥æœ¬ã€ã€’553-0003 å¤§é˜ªåºœå¤§é˜ªå¸‚ç¦å³¶åŒºç¦å³¶ï¼—ä¸ç›®ï¼—âˆ’ï¼‘ï¼’ 34.6976052 135.4846712 # éŠ€åº§é€šã‚Šå•†åº—è¡— æ—¥æœ¬ã€ã€’489-0043 æ„›çŸ¥çœŒç€¬æˆ¸å¸‚æœæ—¥ç”º 35.2266746 137.100508 df &lt;- tribble( ~id, ~lat, ~lon, ~address, ~group, ~name, 1, 35.7056396, 139.7518913,&quot;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½ï¼‘ä¸ç›®ï¼“âˆ’ï¼–ï¼‘&quot;, &quot;ã‚¹ãƒãƒ¼ãƒ„&quot;, &quot;æ±äº¬ãƒ‰ãƒ¼ãƒ &quot;, 2, 34.6976052, 135.4846712,&quot;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½ï¼‘ä¸ç›®ï¼“âˆ’ï¼–ï¼‘&quot;, &quot;å•†åº—è¡—A&quot; ,&quot;ç¦å³¶è–å¤©é€šå•†åº—è¡—&quot;, 3, 35.2266746, 137.100508,&quot;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½ï¼‘ä¸ç›®ï¼“âˆ’ï¼–ï¼‘&quot;, &quot;å•†åº—è¡—B&quot;, &quot;éŠ€åº§é€šã‚Šå•†åº—è¡—&quot; ) # https://www.pediatricsurgery.site/entry/2017/10/12/105242 df &lt;- df %&gt;% mutate(address = stri_trans_nfkc(address)) # ä½æ‰€ã®å…¨è§’ã‚’åŠè§’ã«å¤‰æ› df # A tibble: 3 x 6 id lat lon address group name &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 1 35.7 140. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61 ã‚¹ãƒãƒ¼ãƒ„ æ±äº¬ãƒ‰ãƒ¼ãƒ  2 2 34.7 135. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61 å•†åº—è¡—A ç¦å³¶è–å¤©é€šå•†åº—è¡— 3 3 35.2 137. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61 å•†åº—è¡—B éŠ€åº§é€šã‚Šå•†åº—è¡— 3.3 ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®æ–‡å­—ä½œæˆ df &lt;- df %&gt;% mutate(popup = paste(name, group, address, sep=&quot;&lt;br/&gt;&quot;)) df # A tibble: 3 x 7 id lat lon address group name popup &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 1 35.7 140. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ ã‚¹ãƒãƒ¼ãƒ„ æ±äº¬ãƒ‰ãƒ¼ãƒ  æ±äº¬ãƒ‰ãƒ¼ãƒ &lt;br/&gt;ã‚¹ãƒãƒ¼ãƒ„&lt;br/&gt;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ 2 2 34.7 135. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ å•†åº—è¡—A ç¦å³¶è–å¤©é€šå•†åº—è¡—~ ç¦å³¶è–å¤©é€šå•†åº—è¡—&lt;br/&gt;å•†åº—è¡—A&lt;br/&gt;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ 3 3 35.2 137. ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ å•†åº—è¡—B éŠ€åº§é€šã‚Šå•†åº—è¡— éŠ€åº§é€šã‚Šå•†åº—è¡—&lt;br/&gt;å•†åº—è¡—B&lt;br/&gt;ã€’112-0004 æ±äº¬éƒ½æ–‡äº¬åŒºå¾Œæ¥½1ä¸ç›®3-61~ 3.4 ãƒãƒ¼ã‚«ãƒ¼ãƒªã‚¹ãƒˆ icon_df &lt;- tibble(group = df$group, icon = paste0(here(&quot;picture/icon/&quot;), &quot;/&quot;,dir(here(&quot;picture/icon/&quot;))[1:3])) icon_df # A tibble: 3 x 2 group icon &lt;chr&gt; &lt;chr&gt; 1 ã‚¹ãƒãƒ¼ãƒ„ C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-black.png 2 å•†åº—è¡—A C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-blue.png 3 å•†åº—è¡—B C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-gold.png 3.5 åœ°å›³ã«ãƒ—ãƒ­ãƒƒãƒˆã™ã‚‹ # iconã®é«˜ã•ã¨å¹… w &lt;- 20 h &lt;- 30 geo &lt;- df %&gt;% leaflet() %&gt;% addTiles() for (gru in df$group){ icon_list &lt;- icons(iconUrl = icon_df %&gt;% filter(group == gru) %&gt;% pull(icon), iconWidth = w, iconHeight = h, iconAnchorX = w/2, iconAnchorY = h) geo &lt;- geo %&gt;% addMarkers(lng = ~lon, lat = ~lat, popup = ~popup, group = gru, icon = icon_list, data = dplyr::filter(.data = df, group == gru)) %&gt;% addLayersControl(overlayGroups = df$group, options = layersControlOptions(collapsed = FALSE)) } geo 3.6 ãƒ‡ãƒ¼ã‚¿ä¸€è¦§ # ä¸€è¦§è¡¨ç¤º DT::datatable(dplyr::select(df,name:group),options = list(searchHighlight = TRUE), filter = &#39;top&#39;) 3.7 ãƒãƒ¼ã‚«ãƒ¼ãƒªã‚¹ãƒˆ icon_df &lt;- tibble(group = unique(df$group), icon = paste0(here(&quot;picture/icon/&quot;), &quot;/&quot;,dir(here(&quot;picture/icon/&quot;))[1:3])) icon_df # A tibble: 3 x 2 group icon &lt;chr&gt; &lt;chr&gt; 1 ã‚¹ãƒãƒ¼ãƒ„ C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-black.png 2 å•†åº—è¡—A C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-blue.png 3 å•†åº—è¡—B C:/Users/AkiyamaHiroki/Desktop/my_trivial/picture/icon/marker-icon-2x-gold.png "],
["04_md-to-pdf.html", "Chapter: 4 pandocã§markdownã‹ã‚‰æ—¥æœ¬èªpdfå‡ºåŠ› in vscode 4.1 ç›®æ¬¡ 4.2 ã¯ã˜ã‚ã« 4.3 ç›®çš„ 4.4 æ–¹æ³• 4.5 ã‚µãƒ³ãƒ—ãƒ«md 4.6 è¿½è¨˜", " Chapter: 4 pandocã§markdownã‹ã‚‰æ—¥æœ¬èªpdfå‡ºåŠ› in vscode 4.1 ç›®æ¬¡ ã¯ã˜ã‚ã« ç›®çš„ æ–¹æ³• ã‚µãƒ³ãƒ—ãƒ«md 4.2 ã¯ã˜ã‚ã« å¯¾è±¡èª­è€…ã¯ã€æ¬¡ã®3ã¤ã‚’æº€ãŸã—ã¦ã„ã‚‹äººã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ vscodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ RstudioãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ markdownã‚’æ›¸ã„ãŸã“ã¨ãŒã‚ã‚‹ ã“ã‚“ãªæ„Ÿã˜ã§ç·¨é›†ã—ã¦ã€ ã“ã‚“ãªæ„Ÿã˜ã®.mdã‹ã‚‰ ã“ã‚“ãªæ„Ÿã˜ã®pdfãŒå‡ºã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ 4.3 ç›®çš„ vscodeã§markdownã‚’å¿«é©ã«ç·¨é›†ã—ã¦ã€æ—¥æœ¬èªpdfã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã€‚ vscodeã§markdownã‚’ç·¨é›†ã•ã‚Œã‚‹æ–¹ã¯å¤šã„ã¨æ€ã„ã¾ã™ã€‚ ãªãœãªã‚‰ã€markdownã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç°¡å˜ã«è¡¨ç¤ºã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚ ã—ã‹ã—ã€æ—¥æœ¬èªpdfã®å‡ºåŠ›ãŒã†ã¾ãã„ã‹ãªã‹ã£ãŸã‚Šã€æ•°å¼ã®å‡ºåŠ›ãŒã§ããªã‹ã£ãŸã‚Šã™ã‚‹å•é¡ŒãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ ãã®å•é¡Œã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã«ã€pandocã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ 4.4 æ–¹æ³• æ¬¡ã®6ã¤ã®æ‰‹é †ã‚’è¸ã‚“ã§ç›®çš„ã‚’é”æˆã—ã¾ã™ã€‚ Rstudioã®pandocã«pathã‚’é€šã™ vscodeã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ã„ã‚ã„ã‚è¿½åŠ ã™ã‚‹ ç°¡æ˜“ç‰ˆTeXç’°å¢ƒã‚’ä½œã‚‹ ipaexãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ front matter yamlã‚’æ›¸ã å‡ºåŠ›ã®ã‚³ãƒãƒ³ãƒ‰ 4.4.1 Rstudioã®pandocã«pathã‚’é€šã™ ã‚³ã‚³ãŒã“ã®è¨˜äº‹ã§ã®ã‚­ãƒ¢ã§ã™ã€‚ æœ¬æ¥ãªã‚‰ã°pandocã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã“ã‚ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ãŒã€ã“ã“ã§ã¯Rstudioã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹pandocã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä½œæ¥­ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚ Rstudioã®pandocã¸ã®pathã¯ã€è‡ªåˆ†ã§è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Rstudioã®pandocã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«binã®ä¸‹ã«ã‚ã‚Šã¾ã™ã€‚ ~ç’°å¢ƒä¾å­˜/Rstudio/bin/pandoc pathãŒé€šã£ãŸã‹ã©ã†ã‹ã®ç¢ºèªã¨ã—ã¦ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚ pandoc --version ä»¥ä¸‹ã®ã‚ˆã†ã«pandocã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå‡ºåŠ›ã•ã‚ŒãŸã‚‰ã€pathã®è¨­å®šã¯å®Œäº†ã§ã™ã€‚ pandoc 2.7.2 Compiled with pandoc-types 1.17.5.4, texmath 0.11.2.2, skylighting 0.7.7 Default user data directory: C:\\Users\\AkiyamaHiroki\\AppData\\Roaming\\pandoc Copyright (C) 2006-2019 John MacFarlane Web: http://pandoc.org This is free software; see the source for copying conditions. There is no warranty, not even for merchantability or fitness for a particular purpose. 4.4.2 vscodeã®æ‹¡å¼µã‚’ã„ã‚ã„ã‚è¿½åŠ ã—ã¦ã„ã vscodeã§æ‹¡å¼µã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã¨ã€è¿½åŠ ã™ã‚‹ã„ãã¤ã‹ã®æ‹¡å¼µã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚CUIã§è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ã“ã“ã§ã¯GUIã‚’ä½¿ã£ã¦æ‹¡å¼µã‚’è¿½åŠ ã—ã¾ã™ã€‚ æ‹¡å¼µæ©Ÿèƒ½ãƒªã‚¹ãƒˆ æ‹¡å¼µæ©Ÿèƒ½ å¿…é ˆ/è£œåŠ© å†…å®¹ vscode-pandoc å¿…é ˆ markdownã‚’pandocã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã®ã«å¿…è¦ Pandoc Markdown Preview å¿…é ˆ shift + ctrl + rã§ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼yamlã‚’å«ã‚ãŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã§ãã‚‹ Markdown All in One è£œåŠ© markdownã®æ›¸å¼ã‚µãƒãƒ¼ãƒˆã€ã»ã¼å¿…é ˆ(å…¬å¼link) Markdown+Math è£œåŠ© æ•°å¼ã®ã‚µãƒãƒ¼ãƒˆã„ã‚ã„ã‚(ã“ã¡ã‚‰ã‚‚å…¬å¼linkã§) æ‹¡å¼µæ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³• vscodeã®å·¦ç«¯ã£ã“ã«ã‚ã‚‹ã€ãƒ†ãƒˆãƒªã‚¹ã¿ãŸã„ãªã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€æ¤œç´¢æ¬„(Search Extensions in â€¦)ã§è¿½åŠ ã—ãŸã„æ‹¡å¼µæ©Ÿèƒ½ã‚’æ¤œç´¢ã—ã¾ã™ã€‚ ã¾ãšã¯ã€Œvscode-pandocã€ã¨æ¤œç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚æ¤œç´¢ã—ãŸã‚‰ã€vscode-pandoc ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™(ç§ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.0.8ã®æ–¹ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™)ã€‚ã‚ã¨ã¯installãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å°‘ã—å¾…ã¦ã°ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†ã§ã™ã€‚ æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä»•æ–¹ã‚’èª¬æ˜ã—ã¾ã—ãŸã€‚vscode-pandocã®ä»–ã«ã‚‚ã€Pandoc Markdown Previewã¨ã„ã†æ‹¡å¼µã‚’å¿…é ˆã¨ã—ã¦æŒ™ã’ã¦ã„ã¾ã™ã€‚å…ˆã»ã©ã¨åŒæ§˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚ ä»Šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ2ã¤ã®æ‹¡å¼µä»¥å¤–ã«ã‚‚ä¾¿åˆ©ãªæ‹¡å¼µæ©Ÿèƒ½ãŒãŸãã•ã‚“ã‚ã‚‹ã®ã§ã€æ˜¯éã„ã‚ã„ã‚è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ ãã—ã¦ä¾¿åˆ©ãã†ãªã‚„ã¤ã¯å…±æœ‰ã—ã¦ãã ã•ã„ï¼ 4.4.3 ç°¡æ˜“ç‰ˆTeXç’°å¢ƒã‚’ä½œã‚‹ TeXç’°å¢ƒãŒã™ã§ã«æ§‹ç¯‰æ¸ˆã¿ã§ã‚ã‚‹æ–¹ã¯æ‰‹é †4ã¸é€²ã‚“ã§ãã ã•ã„ã€‚ ãªãœTeXï¼Ÿã¨æ€ã‚ã‚Œã‚‹æ–¹ã‚‚ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ ã“ã“ã§TeXãŒå¿…è¦ãªç†ç”±ã¯ã€æ¬¡ã®ã‚ˆã†ãªç†ç”±ã‹ã‚‰ã§ã™ã€‚pandoc markdownã‚’pdfã«å¤‰æ›ã™ã‚‹ã¨ãã«ã¯ã€markdown â†’ TeX â†’ pdfã¨ã„ã†å¤‰æ›ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€TeXã®ç’°å¢ƒãŒå¿…è¦ã«ãªã‚‹ã¨ã„ã†è¨³ã§ã™ã€‚ ã§ã‚‚ã€TeXliveã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯åŠ´åŠ›ãŒã‹ã‹ã‚‹ã®ã§ã‚„ã‚Šã¾ã›ã‚“ï¼ˆç§ã‚‚TeXLiveã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã›ã‚“ï¼‰ã€‚ã§ã¯ã©ã†ã™ã‚‹ã‹ã¨ã„ã†ã¨TinyTeXã¨ã„ã†ã‚‚ã®ã‚’ä½¿ã„ã¾ã™ã€‚ TinyTeXã¨ã¯ã€Rãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã«ä½œæˆã•ã‚ŒãŸç°¡æ˜“TeXç’°å¢ƒæ§‹ç¯‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚è©³ç´°ã¯ã“ã¡ã‚‰ï¼ˆhttps://yihui.org/tinytex/ï¼‰ã‚’å‚ç…§ãã ã•ã„ã€‚Rãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã§ã¯ã‚ã‚Šã¾ã™ãŒã€vscodeã§ã‚‚ååˆ†ã«ä½¿ãˆã¦ã„ã¾ã™ï¼ˆæ‰€æ„Ÿï¼‰ã€‚ ã§ã¯TinyTeXã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚ä»¥ä¸‹ã®2è¡Œã®ã‚³ãƒãƒ³ãƒ‰ã‚’Rã§å®Ÿè¡Œã™ã‚‹ã ã‘ã§ã™ã€‚å°‘ã€…æ™‚é–“ãŒã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã‚³ãƒ¼ãƒ’ãƒ¼ã§ã‚‚é£²ã‚“ã§ä¼‘æ†©ã—ã¦å¾…ã¡ã¾ã—ã‚‡ã†ã€‚ install.packages(&#39;tinytex&#39;) tinytex::install_tinytex() 4.4.4 ipaexãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ ã“ã“ã§ã¯æ—¥æœ¬èªpdfã®ä½œæˆã«å¿…è¦ãªãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ ã‚‚ã¡ã‚ã‚“ipaexãƒ•ã‚©ãƒ³ãƒˆä»¥å¤–ã§ã‚‚pdfã®ä½œæˆã¯ã§ãã¾ã™ãŒã€å°‘ã€…è¾¼ã¿å…¥ã£ãŸè©±ã«ãªã£ã¦ãã‚‹ã®ã§ä»Šå›ã¯ipaexãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ã“ã¡ã‚‰ã®link(https://ipafont.ipa.go.jp/old/ )ã‚ˆã‚Šipaexãƒ•ã‚©ãƒ³ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€PCã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ ãƒ•ã‚©ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®æ‰‹é †ã¯OSã«ä¾å­˜ã—ã¾ã™ã€‚ 4.4.5 YAML front matter ã•ã¦ã€ã“ã“ãŒå°‘ã—ã ã‘è¾¼ã¿å…¥ã£ãŸè©±ã«ãªã‚Šã¾ã™ã€‚ pandoc markdownï¼ˆpandocã‚’ä½¿ã†markdownï¼‰ã§ã¯ã€yamlãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¨ã„ã†ã®ã‚’markdownã®å…ˆé ­ã«è¨˜è¿°ã—ã¾ã™ã€‚ 3ã¤ã®ãƒã‚¤ãƒ•ãƒ³â€”ã§ä¸Šä¸‹ã‚’å›²ã£ãŸã‚„ã¤ã§ã™ã€‚ ãŸã¨ãˆã°pandocã§markdownã‹ã‚‰pdfå‡ºåŠ›ã™ã‚‹ã¨ãã¯ã“ã‚“ãªæ„Ÿã˜ã®yamlãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’æ›¸ãã¾ã™ã€‚ --- title: &quot;pandocã§markdownã‹ã‚‰æ—¥æœ¬èªpdfå‡ºåŠ› in vscode&quot; subtitle: &quot;&quot; author: &quot;Akiyama Hiroki&quot; date: &quot;yyyy-mm-dd&quot; geometry: &quot;left=3cm,right=3cm,top=2cm,bottom=2cm&quot; output: pdf_document: latex_engine: xelatex header-includes: - \\usepackage{xltxtra} # æ—¥æœ¬èªpdfç”¨ - \\usepackage{zxjatype} # æ—¥æœ¬èªpdfç”¨ - \\usepackage[ipaex]{zxjafont} # ãƒ•ã‚©ãƒ³ãƒˆæŒ‡å®š --- å¼•æ•° æ„å‘³ title ã‚¿ã‚¤ãƒˆãƒ« subtitle ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ« author è‘—è€… date æ—¥ä»˜ geometry æ–‡æ›¸ã®ä½™ç™½ output å‡ºåŠ›å½¢å¼ header-includesä»¥ä¸‹ TeXãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æŒ‡å®š ã“ã‚Œã‚‰ã®yamlå†…å®¹ã¯ã€‚å¤§ä½“ã©ã®æ–‡æ›¸ã«ã‚‚å…±é€šã—ã¦è¨˜è¿°ã™ã‚‹ã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã€‚ header-includesä»¥ä¸‹ã«é–¢ã—ã¦ã¯ã€ä»Šå›ã®æ—¥æœ¬èªpdfä½œæˆç”¨ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ä»–ã«ã‚‚yamlãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¸ã®è¨˜è¿°ã§è¨­å®šã§ãã‚‹ã“ã¨ã¯ã¨ã¦ã‚‚ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒã€ãã‚Œã‚‰ã¯ã¾ãŸä»Šåº¦ç´¹ä»‹ã—ã¾ã™ã€‚ãŸã¶ã‚“ã€‚ vscodeã®ä¾¿åˆ©ãªç‚¹ã¨ã—ã¦ã€pdfã‚„htmlå‡ºåŠ›ã‚’ã™ã‚‹éš›ã®pandocã®å¼•æ•°ã‚’ã€è¨­å®šã«ä¿å­˜ã—ã¦ãŠãã“ã¨ãŒã§ãã‚‹ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚ ã€Œctrl + ,ã€ã§è¨­å®šç”»é¢ã‚’é–‹ãã¾ã™ã€‚pandocã¨æ¤œç´¢ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªç”»é¢ãŒå‡ºã¦ãã¾ã™ã€‚ ã“ã“ã®Pdf Opt Stringã«ã€ --pdf-engine xelatex -V geometry:margin=1in ãªã©ã¨è¨˜è¿°ã—ã¦ãŠãã“ã¨ã§ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹éš›ã®pandocã®å¼•æ•°ã‚’ä¿å­˜ã—ã¦ãŠãã“ã¨ãŒã§ãã¾ã™ã€‚ ã“ã†ã™ã‚‹ã¨ã€yamlã®è©²å½“éƒ¨åˆ†ã¯çœç•¥ã—ã¦æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚ 4.4.6 å‡ºåŠ›ã®ã‚³ãƒãƒ³ãƒ‰ æº–å‚™ã¯æ•´ã„ã¾ã—ãŸã€‚ã€Œctrl + kã€ã‚’æŠ¼ã—ãŸå¾Œã«ã€ã€Œpã€ã‚’æŠ¼ã—ã¦ã€pdfã‚’é¸æŠã™ã‚Œã°pdfå‡ºåŠ›ãŒå®Œäº†ã—ã¾ã™ï¼ 4.5 ã‚µãƒ³ãƒ—ãƒ«md ã“ã“ã«04_sample.mdã‚’ç½®ãã¾ã—ãŸã€‚ä¸­èº«ã«æ›¸ã„ã¦ã‚ã‚‹ã“ã¨ã¯æœ¬è¨˜äº‹ã¨ã»ã¼åŒã˜ã‚‚ã®ã§ã™ã€‚ã“ã‚Œã‚’vscodeã§é–‹ãã€ã“ã“ã¾ã§èª¬æ˜ã—ã¦ããŸæº–å‚™ã‚’çµ‚ãˆã¦ã„ã‚Œã°ã€ã€Œctrl + kã€ã‚’æŠ¼ã—ãŸå¾Œã«ã€Œpã€ã‚’æŠ¼ã—ã¦ã€pdfå‡ºåŠ›ãŒã§ãã‚‹ã¯ãšã§ã™ã€‚ (æ•°å¼ã‚‚TeXã§æ›¸ã‘ã¾ã™) \\[ f(x)={\\displaystyle\\sum_{k=0}^{\\infty}}f^{(k)}(0)\\dfrac{x^k}{k!}\\\\=f(0)+f&#39;(0)x+\\dfrac{fâ€(0)}{2!}x^2+\\dfrac{f^{(3)}(0)}{3!}x^3\\cdots \\] enjoy! 4.6 è¿½è¨˜ ç¾çŠ¶ã ã¨ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¾ã§ã¯ã§ãã‚‹ã‘ã©ã€å‡ºåŠ›ã¯ã†ã¾ãã„ã‹ãªã„ Rstudioã§ä¸€åº¦knitã™ã‚‹ã“ã¨ã§ã€texå¤‰æ›ã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã‚Œã‚‹ tlmgr install ipaexã‚’ã™ã‚‹å¿…è¦ã‚ã‚Š tinytex::tlmgr_install(â€œipaexâ€) "],
["05_mystery.html", "Chapter: 5 slackã®è¬ 5.1 æŠ•ç¨¿æ•°æ¿€å¢—ï¼ãƒãƒˆãƒ«ãƒ‰ã‚©ãƒ¼ãƒ ï¼ 5.2 ãƒãƒˆãƒ«ãƒ‰ã‚©ãƒ¼ãƒ ï¼ã®å·®åˆ† 5.3 è¶…ï¼ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ï¼ï¼", " Chapter: 5 slackã®è¬ library(tidyverse) library(here) library(plotly) d &lt;- read_csv(here(&quot;data/slack0629.csv&quot;)) glimpse(d) Rows: 464 Columns: 21 $ æ—¥ä»˜ &lt;date&gt; 2019-03-22, 2019-03-23, 2019-03-24, 2019-03-25, 2019-03-26, 2019-03-27, 2019-03-28,... $ ãƒ¡ãƒ³ãƒãƒ¼æ•°åˆè¨ˆ &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 9, 12, 16, 19, 20, 21, 22, 22, 22, 24,... $ é€šå¸¸ãƒ¡ãƒ³ãƒãƒ¼ &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 9, 12, 16, 19, 20, 21, 22, 22, 22, 24... $ ã‚²ã‚¹ãƒˆ &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0... $ æ—¥é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼æ•° &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 8, 7, 10, 11, 9, 10, 4, 10, 14, 17, 4, 13, ... $ `ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŠ•ç¨¿ã—ãŸãƒ¡ãƒ³ãƒãƒ¼æ•°ã®æ¨ç§»(æ—¥åˆ¥)` &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 4, 3, 2, 5, 3, 3, 1, 2, 4, 3, 2, 2, 3, 0, 3, 1, 2, ... $ é€±é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼æ•° &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 9, 12, 16, 19, 20, 21, 22, 21, 20, 20, 20, ... $ `ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŠ•ç¨¿ã—ãŸãƒ¡ãƒ³ãƒãƒ¼æ•°ã®æ¨ç§»(é€±åˆ¥)` &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 5, 7, 7, 9, 9, 10, 10, 9, 10, 10, 8, 7, 7, 6, 7, 6,... $ ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 4, 5, 4, 7, 1, 2, 0, 12, 6, 2, 0, 1, 1, 0, 4, 1... $ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ... $ å…±æœ‰ãƒãƒ£ãƒ³ãƒãƒ«ã¸ã®æŠ•ç¨¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ... $ ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã®æŠ•ç¨¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 2, 0, 5, 17, 9, 1, 0, 9, 5, 13, 4, 9, 0, 0, 0, 0... $ `ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‰²åˆã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«` &lt;dbl&gt; 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.000... $ `ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‰²åˆã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«` &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ... $ `ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‰²åˆã€DM` &lt;dbl&gt; 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0... $ `è¡¨ç¤ºå›æ•°ã®å‰²åˆã€ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«` &lt;dbl&gt; 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.00... $ `è¡¨ç¤ºå›æ•°ã®å‰²åˆã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«` &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,... $ `è¡¨ç¤ºå›æ•°ã®å‰²åˆã€DM` &lt;dbl&gt; 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.0000, 0.... $ åå‰ &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ... $ `ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«ã€1ã¤ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹` &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, ... $ æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 21, 42, 65, 82, 105, 127, 146, 151, 169, 185,... long_d &lt;- d %&gt;% select(æ—¥ä»˜, ãƒ¡ãƒ³ãƒãƒ¼æ•°åˆè¨ˆ, æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°) %&gt;% pivot_longer(-æ—¥ä»˜) p &lt;- long_d %&gt;% ggplot(aes(x = æ—¥ä»˜, y = value)) + geom_line() + facet_wrap(facets = vars(name), ncol = 1, scales = &quot;free_y&quot;) + labs(title = &quot;ãƒãƒˆãƒ«ãƒ‰ã‚©ãƒ¼ãƒ ï¼ redï¼šèª•ç”Ÿã€blue:ãŠå¼•è¶Šã—&quot;, x = &quot;æœˆ&quot;, y = &quot;&quot;) + geom_vline(xintercept = as.Date(&quot;2020-02-12&quot;), color = &quot;red&quot;, size = 0.2) + geom_vline(xintercept = as.Date(&quot;2020-04-07&quot;), color = &quot;blue&quot;, size = 0.2) + scale_x_date(date_breaks = &quot;1 month&quot;, date_labels = &quot;%b&quot;) 5.1 æŠ•ç¨¿æ•°æ¿€å¢—ï¼ãƒãƒˆãƒ«ãƒ‰ã‚©ãƒ¼ãƒ ï¼ ggplotly(p, dynamicTicks = T) p long_d &lt;- d %&gt;% select(æ—¥ä»˜, æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°) long_d &lt;- long_d %&gt;% mutate(lag1 = æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•° - lag(æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°)) p &lt;- long_d %&gt;% ggplot(aes(x = æ—¥ä»˜, y = lag1)) + geom_line() + labs(title = &quot;å‰æ—¥ã®æŠ•ç¨¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°ã‹ã‚‰ã®å¢—æ¸› redï¼šèª•ç”Ÿã€blue:ãŠå¼•è¶Šã—&quot;, x = &quot;æœˆ&quot;, y = &quot;&quot;) + geom_vline(xintercept = as.Date(&quot;2020-02-12&quot;), color = &quot;red&quot;, size = 0.2) + geom_vline(xintercept = as.Date(&quot;2020-04-07&quot;), color = &quot;blue&quot;, size = 0.2) + scale_x_date(date_breaks = &quot;1 month&quot;, date_labels = &quot;%b&quot;) 5.2 ãƒãƒˆãƒ«ãƒ‰ã‚©ãƒ¼ãƒ ï¼ã®å·®åˆ† ggplotly(p, dynamicTicks = T) p d2 &lt;- d %&gt;% select(æ—¥ä»˜, æ—¥é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¡ãƒ³ãƒãƒ¼æ•°, ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸, ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸, ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã®æŠ•ç¨¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°) p2 &lt;- d2 %&gt;% pivot_longer(-æ—¥ä»˜) %&gt;% ggplot(aes(x = æ—¥ä»˜, y = value)) + geom_line() + facet_wrap(facets = vars(name), ncol = 1, scales = &quot;free_y&quot;) + labs(title = &quot;è¶…ï¼ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ï¼ï¼ redï¼šèª•ç”Ÿã€blue:ãŠå¼•è¶Šã—&quot;, x = &quot;æœˆ&quot;, y = &quot;&quot;) + geom_vline(xintercept = as.Date(&quot;2020-02-12&quot;), color = &quot;red&quot;, size = 0.2) + geom_vline(xintercept = as.Date(&quot;2020-04-07&quot;), color = &quot;blue&quot;, size = 0.2) + scale_x_date(date_breaks = &quot;1 month&quot;, date_labels = &quot;%b&quot;) 5.3 è¶…ï¼ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ï¼ï¼ plotly::ggplotly(p2, dynamicTicks = TRUE) p2 "],
["06_NBA_cluster.html", "Chapter: 6 NBAã®ã‚¹ã‚¿ãƒƒãƒ„ãƒ‡ãƒ¼ã‚¿ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° 6.1 å‰å‡¦ç† 6.2 å¯è¦–åŒ– 6.3 kmeansã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° 6.4 é›‘æ„Ÿ", " Chapter: 6 NBAã®ã‚¹ã‚¿ãƒƒãƒ„ãƒ‡ãƒ¼ã‚¿ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° ã“ã“ ï¼ˆhttps://www.kaggle.com/drgilermo/nba-players-statsï¼‰ ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹NBAé¸æ‰‹ã®ã‚¹ã‚¿ãƒƒãƒ„ã‚„èº«é•·ä½“é‡ãªã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã‚’ãŠã“ãªã†ã€‚ kmeansã‚’ä½¿ç”¨ã—ã€ã‚¯ãƒ©ã‚¹ã‚¿æ•°ã¯2,3,5ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è©¦ã—ãŸã€‚ ãƒã‚¹ã‚±ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã”ã¨ã«ã‚¯ãƒ©ã‚¹ã‚¿ã¨ãªã‚Œã°ã„ã„ãªã¨æœŸå¾…ã—ã¦ã„ãŸã€‚ ã—ã‹ã—çµæœã¨ã—ã¦ã¯ã€ã‚¹ã‚¿ãƒ¡ãƒ³ã‚„ã‚¹ã‚¿ãƒ¼é¸æ‰‹ã€æ§ãˆã®é¸æ‰‹ã€ã‚ã¾ã‚Šå‡ºå ´æ©Ÿä¼šãŒãªã„é¸æ‰‹ã¨ã„ã†ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã‚¿ã«åˆ¥ã‚ŒãŸã€‚ ä»¥ä¸‹ã«ã‚³ãƒ¼ãƒ‰ã¨çµæœã‚’ç¤ºã™ã€‚ 6.1 å‰å‡¦ç† 6.1.1 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ library(tidyverse) library(dplyr) library(ggplot2) library(purrr) library(tibble) library(tidyr) library(tidymodels) library(factoextra) library(NbClust) library(patchwork) library(naniar) # vis_miss library(ggrepel) library(here) read_csvã®è‡ªå‹•è­˜åˆ¥ã ã¨å¾®å¦™ãªã®ã§ã€èª­ã¿è¾¼ã‚€ã‚«ãƒ©ãƒ å‹ã‚’äº‹å‰ã«æ±ºã‚ã¦ãŠãã€‚ set_coltypes &lt;- cols( .default = col_double(), Year = col_double(), Player = col_character(), Pos = col_character(), Age = col_double(), Tm = col_character(), G = col_double(), GS = col_double(), MP = col_double(), PER = col_double(), `TS%` = col_double(), `3PAr` = col_double(), FTr = col_double(), `ORB%` = col_double(), `DRB%` = col_double(), `TRB%` = col_double(), `AST%` = col_double(), `STL%` = col_double(), `BLK%` = col_double(), `TOV%` = col_double(), `USG%` = col_double(), blanl = col_skip(), OWS = col_double(), DWS = col_double(), WS = col_double(), `WS/48` = col_double(), blank2 = col_skip(), OBPM = col_double(), DBPM = col_double(), BPM = col_double(), VORP = col_double(), FG = col_double(), FGA = col_double(), `FG%` = col_double(), `3P` = col_double(), `3PA` = col_double(), `3P%` = col_double(), `2P` = col_double(), `2PA` = col_double(), `2P%` = col_double(), `eFG%` = col_double(), FT = col_double(), FTA = col_double(), `FT%` = col_double(), ORB = col_double(), DRB = col_double(), TRB = col_double(), AST = col_double(), STL = col_double(), BLK = col_double(), TOV = col_double(), PF = col_double(), PTS = col_double() ) Seasons_Stats.csvã‚’èª­ã¿è¾¼ã‚€ã€‚Players.csvã‚’èª­ã¿è¾¼ã‚€ã€‚Playersã‹ã‚‰èº«é•·ã¨ä½“é‡ã®ã‚«ãƒ©ãƒ ã‚’ã€Seasons_Statsã«ã‚¸ãƒ§ã‚¤ãƒ³ã•ã›ã‚‹ã€‚ã‚¸ãƒ§ã‚¤ãƒ³ã—ãŸã‚‚ã®ã‚’dataã¨ã™ã‚‹ã€‚ players &lt;- read_csv(here(&quot;data/Players.csv&quot;)) seasons_stats &lt;- read_csv(here(&quot;data/Seasons_Stats.csv&quot;), col_types = set_coltypes) data &lt;- players %&gt;% select(Player, height, weight) %&gt;% right_join(seasons_stats, by = &quot;Player&quot;) 6.1.2 ãƒ‡ãƒ¼ã‚¿ã®æ•´ç† ãƒ‡ãƒ¼ã‚¿ã‚’2000å¹´ä»¥é™ã«çµã‚‹ å¤ã„ãƒ‡ãƒ¼ã‚¿ã¯ã‚¹ã‚¿ãƒƒãƒ„ãŒå–ã‚Œã¦ã„ãªãã¦æ¬ æãŒå¤šã„ãŸã‚ é¸æ‰‹ã®åå‰ã§ã€æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰é †ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ã‚’ã¨ã‚‹ X1 ã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãªã®ã§æ¶ˆå»ã™ã‚‹ æœ€æ–°ã®é¸æ‰‹ãƒ‡ãƒ¼ã‚¿ã«çµã£ãŸã®ã§ã€Yearã¯ã‚‚ã†ä¸è¦ã ã‹ã‚‰æ¶ˆå» data_2000_uniquename &lt;- data %&gt;% filter(Year &gt;= 2000) %&gt;% arrange(desc(Year)) %&gt;% distinct(Player, .keep_all = TRUE) %&gt;% select(-X1, -Year) 6.1.3 å„ãƒã‚¸ã‚·ãƒ§ãƒ³ã®é¸æ‰‹æ•° data_2000_uniquename %&gt;% group_by(Pos) %&gt;% count # A tibble: 14 x 2 # Groups: Pos [14] Pos n &lt;chr&gt; &lt;int&gt; 1 C 362 2 C-PF 4 3 C-SF 1 4 PF 318 5 PF-C 3 6 PF-SF 1 7 PG 325 8 PG-SG 4 9 SF 333 10 SF-PF 5 11 SF-SG 3 12 SG 322 13 SG-PG 5 14 SG-SF 4 6.1.4 ï¼•ã¤ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã«ã™ã‚‹ C-PFã‚„ã€PG-SGãªã©ã®2ãƒã‚¸ã‚·ãƒ§ãƒ³ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯æ•°ãŒå°‘ãªã„ã®ã§æ¶ˆå»ã—ã¦ã€5ã¤ã®ãƒã‚¸ã‚·ãƒ§ãƒ³(PG, SG, SF, PF, C)ã®ã¿ã«ã™ã‚‹ã€‚ data_2000_uniquename_5pos &lt;- data_2000_uniquename %&gt;% filter(Pos %in% c(&quot;PG&quot;, &quot;SG&quot;, &quot;SF&quot;, &quot;PF&quot;, &quot;C&quot;)) %&gt;% mutate(Pos = fct_relevel(Pos ,&quot;PG&quot;, &quot;SG&quot;, &quot;SF&quot;, &quot;PF&quot;, &quot;C&quot;)) 6.1.5 æ¬ æã®å¯è¦–åŒ– data_2000_uniquename_5pos %&gt;% vis_miss() 6.1.6 æ¬ æã®é™¤å» 3P%ã¨FT%ã®æ¬ æã¯ã€3Pã¨FTã®ã‚¢ãƒ†ãƒ³ãƒ—ãƒˆãŒãªã„ã“ã¨ã«ã‚ˆã‚‹ã‚‚ã®ã§ã‚ã‚‹ï¼ˆãŸã¶ã‚“ï¼‰ã€‚ 3Pã¨3PAã®å€¤ã¯å…¥ã£ã¦ã„ã‚‹ãŸã‚ã€3P%ã¯æƒ…å ±é‡ã¨ã—ã¦ç‰¹ã«æ„å‘³ãŒãªã„ã®ã§ä½¿ç”¨ã—ãªã„ã“ã¨ã«ã™ã‚‹ã€‚ åŒæ§˜ã«ã—ã¦FT%ã‚‚ä½¿ç”¨ã—ãªã„ã“ã¨ã¨ã™ã‚‹ã€‚ ãã®ä»–ã«æ¬ æãŒå­˜åœ¨ã—ã¦ã„ã‚‹ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯æ•°ãŒå°‘ãªã„ã®ã§ã€ãã‚Œã‚‰ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯é™¤ã„ã¦åˆ†æã‚’ãŠã“ãªã†ã“ã¨ã«ã™ã‚‹ã€‚ data_2000_uniquename_5pos_clean &lt;- data_2000_uniquename_5pos %&gt;% select(-`3P%`, -`FT%`) %&gt;% drop_na() data_2000_uniquename_5pos_clean %&gt;% vis_miss() æ¬ æå€¤ãŒãªããªã£ãŸç¶ºéº—ãªãƒ‡ãƒ¼ã‚¿ãŒã§ãã‚ãŒã£ãŸã€‚ 6.1.7 ãƒãƒ¼ãƒ ã®ç•¥ç§°ã‚’æ•´ç†ã™ã‚‹ ç¾åœ¨ã®NBAã¯æ±è¥¿åˆã‚ã›ã¦30ãƒãƒ¼ãƒ ã‚ã‚‹ã€‚ä»Šæ‰±ã£ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã«ã¯ã€ãƒãƒ¼ãƒ ã®ç•¥ç§°ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã‚‚ã®ãªã©ãŒå­˜åœ¨ã™ã‚‹ã®ã§ã€ãã‚Œã‚’çµ±ä¸€ã™ã‚‹ã€‚ CHH, CHOã¯ã€ç¾åœ¨ã®CHAãªã®ã§ã€CHAã«çµ±ä¸€ã™ã‚‹ã€‚ NJNã¯ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ£ãƒ¼ã‚¸ãƒ¼ãƒãƒƒãƒ„ã€ç¾åœ¨ã®ãƒ–ãƒ«ãƒƒã‚¯ãƒªãƒ³ãƒãƒƒãƒ„ãªã®ã§ã€BRKã«çµ±ä¸€ã™ã‚‹ã€‚ NOH, NOKã¯ã€ç¾åœ¨ã®NOPã ã‹ã‚‰çµ±ä¸€ã™ã‚‹ã€‚ TOTã¯ã€ã‚·ãƒ¼ã‚ºãƒ³é€”ä¸­ã§ç§»ç±ã—ãŸé¸æ‰‹ã«é–¢ã—ã¦ã€ç§»ç±å‰ã¨å¾Œã®æˆç¸¾ã‚’è¶³ã—åˆã‚ã›ãŸã‚‚ã®ã€‚ã ã‹ã‚‰ã€ä»Šå›ã¯TOTã¯å¤–ã™ã€‚ VANã¯ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ã‚°ãƒªã‚ºãƒªãƒ¼ã‚ºã€ç¾åœ¨ã®ãƒ¡ãƒ³ãƒ•ã‚£ã‚¹ã‚°ãƒªã‚ºãƒ¼ã‚ºã ã‹ã‚‰ã€MEMã«çµ±ä¸€ã™ã‚‹ã€‚ SEAã¯OKCã«çµ±ä¸€ã™ã‚‹ã€‚ data_2000_uniquename_5pos_clean &lt;- data_2000_uniquename_5pos_clean %&gt;% mutate(Tm_30 = case_when( Tm %in% c(&quot;CHH&quot;, &quot;CHO&quot;) ~ &quot;CHA&quot;, Tm == &quot;NJN&quot; ~ &quot;BRK&quot;, Tm %in% c(&quot;NOH&quot;, &quot;NOK&quot;) ~ &quot;NOP&quot;, Tm == &quot;VAN&quot; ~ &quot;MEM&quot;, Tm == &quot;SEA&quot; ~ &quot;OKC&quot;, TRUE ~ Tm) # case_whenã‚’ä½¿ã†ã¨ãã¯TRUE ã®ã‚±ãƒ¼ã‚¹ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«æ³¨æ„ã™ã‚‹ ) %&gt;% filter(Tm != &quot;TOT&quot;) 6.2 å¯è¦–åŒ– 6.2.1 ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã«ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ 6.2.2 PCAã—ã¦ã¿ã‚‹ rec_preped &lt;- data_2000_uniquename_5pos_clean %&gt;% recipe() %&gt;% step_center(all_numeric()) %&gt;% step_scale(all_numeric()) %&gt;% step_pca(all_numeric(), threshold = .80) %&gt;% prep() t &lt;- rec_preped$steps[[3]]$res %&gt;% summary() t$importance %&gt;% broom::tidy() %&gt;% pivot_longer(-.rownames) %&gt;% filter(.rownames == &quot;Cumulative Proportion&quot;) %&gt;% mutate(name = as_factor(name)) %&gt;% ggplot(aes(x = name, y = value)) + geom_point() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + theme(text = element_text(family = &quot;Japan1GothicBBB&quot;)) + labs(x = &quot;&quot;, y = &quot;ç´¯ç©å¯„ä¸ç‡&quot;, title = &quot;ä¸»æˆåˆ†åˆ†æã®ç´¯ç©å¯„ä¸ç‡&quot;) + ylim(0,1) data_pca80 &lt;- rec_preped %&gt;% juice() 6.2.3 PCAã®ï¼’è»¸ã§ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ¥ãƒ—ãƒ­ãƒƒãƒˆ p_pca &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = Pos)) + geom_point() + labs(title = &quot;PCAã®2è»¸ã§ ã§ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ¥&quot;) p_pca 6.2.4 ãƒãƒ¼ãƒ åˆ¥ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ¥ã§PCAï¼’è»¸ p_pca_facet_team &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = Pos)) + geom_point() + facet_wrap(vars(Tm_30)) p_pca_facet_team ä¸€éƒ¨ã®é¸æ‰‹ã®ã¿ãƒ©ãƒ™ãƒ«ã‚’è¡¨ç¤ºã•ã›ã‚‹ãŸã‚ã«ã€ãƒ©ãƒ™ãƒ«ã®ã‚«ãƒ©ãƒ ã‚’ä½œæˆã™ã‚‹ã€‚ data_pca80 &lt;- data_pca80 %&gt;% mutate(label = if_else(condition = (10 &lt;= PC1| 5 &lt;= PC2), true = as.character(Player), false = &quot;&quot; )) p_pca_facet_team_label &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = Pos, label = label)) + geom_point() + geom_text_repel() + facet_wrap(vars(Tm_30)) p_pca_facet_team_label 6.3 kmeansã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚° 6.3.1 ã‚¨ãƒ«ãƒœãƒ¼æ³•ã¨ã‚·ãƒ«ã‚¨ãƒƒãƒˆæ³•ã§ã‚¯ãƒ©ã‚¹ã‚¿æ•°ãƒã‚§ãƒƒã‚¯ # Elbow method p_elbow &lt;- data_2000_uniquename_5pos_clean %&gt;% select(where(is.numeric)) %&gt;% fviz_nbclust(kmeans, method = &quot;wss&quot;) + geom_vline(xintercept = 3, linetype = 2) + # add line for better visualisation labs(subtitle = &quot;Elbow method&quot;) # add subtitle p_silhouette &lt;- data_2000_uniquename_5pos_clean %&gt;% select(where(is.numeric)) %&gt;% fviz_nbclust(kmeans, method = &quot;silhouette&quot;) + labs(subtitle = &quot;Silhouette method&quot;) p_elbow | p_silhouette ã‚¨ãƒ«ãƒœãƒ¼ã§ã¯3ã€ã‚·ãƒ«ã‚¨ãƒƒãƒˆã§ã¯2ãŒã‚ˆã•ãã†ã€‚ 6.3.2 kmeansï¼’ã¨ï¼“ã¨ï¼• my_kmeans &lt;- function(data, centers, nstart = 50){ model &lt;- data %&gt;% select(where(is.numeric)) %&gt;% kmeans(centers = centers, nstart = nstart) cat(&quot;ã‚¯ãƒ©ã‚¹ã‚¿æ•°&quot;, centers ,&quot;, ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£/å…¨ä½“åˆ†æ•£ * 100 = &quot;, 100 * model$betweenss / model$totss, &quot;\\n&quot;) return(as.character(model$cluster)) } set.seed(7777) data_2000_uniquename_5pos_clean$kmeans2 &lt;- my_kmeans(data_2000_uniquename_5pos_clean, centers = 2, nstart = 50) ã‚¯ãƒ©ã‚¹ã‚¿æ•° 2 , ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£/å…¨ä½“åˆ†æ•£ * 100 = 69.22037 set.seed(7777) data_2000_uniquename_5pos_clean$kmeans3 &lt;- my_kmeans(data_2000_uniquename_5pos_clean, centers = 3, nstart = 50) ã‚¯ãƒ©ã‚¹ã‚¿æ•° 3 , ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£/å…¨ä½“åˆ†æ•£ * 100 = 83.51925 set.seed(7777) data_2000_uniquename_5pos_clean$kmeans5 &lt;- my_kmeans(data_2000_uniquename_5pos_clean, centers = 5, nstart = 50) ã‚¯ãƒ©ã‚¹ã‚¿æ•° 5 , ã‚¯ãƒ©ã‚¹ã‚¿é–“åˆ†æ•£/å…¨ä½“åˆ†æ•£ * 100 = 91.14289 6.3.3 çµæœã‚’PCAã®2è»¸ã§å¯è¦–åŒ–ã—ã¦ã¿ã‚‹ã€‚ rec_preped &lt;- data_2000_uniquename_5pos_clean %&gt;% recipe() %&gt;% step_center(all_numeric()) %&gt;% step_scale(all_numeric()) %&gt;% step_pca(all_numeric(), threshold = .80) %&gt;% prep() data_pca80 &lt;- rec_preped %&gt;% juice() cluster_2 &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = kmeans2)) + geom_point() + labs(title = &quot;PCAã®2è»¸ã§ 2ã‚¯ãƒ©ã‚¹ã‚¿&quot;) + theme(legend.position = &quot;bottom&quot;) cluster_3 &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = kmeans3)) + geom_point() + labs(title = &quot;PCAã®2è»¸ã§ 3ã‚¯ãƒ©ã‚¹ã‚¿&quot;) + theme(legend.position = &quot;bottom&quot;) cluster_5 &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = kmeans5)) + geom_point() + labs(title = &quot;PCAã®2è»¸ã§ 5ã‚¯ãƒ©ã‚¹ã‚¿&quot;) + theme(legend.position = &quot;bottom&quot;) (p_pca | cluster_2) / (cluster_3 | cluster_5) ãŠä¸–è¾ã«ã‚‚ãƒã‚¸ã‚·ãƒ§ãƒ³ã§ã‚¯ãƒ©ã‚¹ã‚¿ã«åˆ†ã‹ã‚ŒãŸã‚ˆã†ã«ã¯è¦‹ãˆã¸ã‚“ï¼ï¼ï¼ï¼ è¿‘å¹´ã®NBAã§ã¯ã€ã©ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã§ã‚‚ãƒ‰ãƒªãƒ–ãƒ«ãƒ»ã‚·ãƒ¥ãƒ¼ãƒˆãƒ»ã‚¢ã‚·ã‚¹ãƒˆãªã©ãŒé«˜ã„ãƒ¬ãƒ™ãƒ«ã§ã§ãã‚‹ã“ã¨ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã‚‹ã€‚ æ”¹ã‚ã¦è€ƒãˆã‚‹ã¨ã€èº«é•·ä½“é‡ã‚„ã‚¹ã‚¿ãƒƒãƒ„ã®ãƒ‡ãƒ¼ã‚¿ãŒãƒã‚¸ã‚·ãƒ§ãƒ³ã”ã¨ã§ã‚¯ãƒ©ã‚¹ã‚¿ã«ãªã‚‹ã®ã¯ã€ç¢ºã‹ã«ã‚ã‚Šãˆãªã„ã‹ã€ã¨ã‚‚æ€ã†ã€‚ ã¨ã‚Šã‚ãˆãšå›ºã¾ã£ãŸã€ï¼“ã‚¯ãƒ©ã‚¹ã‚¿ã§è¦‹ã¦ã„ãã€‚ 6.3.4 ãƒãƒ¼ãƒ åˆ¥kmeansãƒ—ãƒ­ãƒƒãƒˆ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ—ãƒ­ãƒƒãƒˆã«ãªã£ã¦ã¾ã™ã€‚ p_pca_facet_team_kmeans3 &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = kmeans3, label = Player)) + geom_point() + facet_wrap(vars(Tm_30)) # p_pca_facet_team_kmeans3 plotly::ggplotly(p_pca_facet_team_kmeans3, dynamicTicks = T) 6.3.5 é¸æ‰‹åã¤ã ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒƒãƒˆã‚’è¦‹ã‚‹æ„Ÿã˜ã€ã©ã†ã‚„ã‚‰ç·‘ã®ã‚¯ãƒ©ã‚¹ã‚¿ã¯ã€ã‚¹ã‚¿ãƒ¡ãƒ³ã‚„ã‚¹ã‚¿ãƒ¼ç´šã®é¸æ‰‹ãŒå›ºã¾ã£ã¦ã„ã‚‹ã‚‰ã—ã„ã€‚ ä¸€éƒ¨ã®é¸æ‰‹ã®ã¿ãƒ©ãƒ™ãƒ«ã‚’è¡¨ç¤ºã•ã›ã‚‹ãŸã‚ã«ã€ãƒ©ãƒ™ãƒ«ã®ã‚«ãƒ©ãƒ ã‚’ä½œæˆã™ã‚‹ã€‚PC1ãŒ10ä»¥ä¸Šã®é¸æ‰‹ã®ã¿ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã‚‹ã€‚ data_pca80 &lt;- data_pca80 %&gt;% mutate(label = if_else(condition = (10 &lt;= PC1), true = as.character(Player), false = &quot;&quot; )) p_pca_facet_team_label_kmeans3 &lt;- data_pca80 %&gt;% ggplot(aes(PC1, PC2, color = kmeans3, label = label)) + geom_point() + geom_text_repel() + facet_wrap(vars(Tm_30)) p_pca_facet_team_label_kmeans3 ã‚„ã¯ã‚Šã‚¹ã‚¿ãƒ¼é¸æ‰‹ã‚„ã‚¹ã‚¿ãƒ¡ãƒ³ã®é¸æ‰‹ãŒã»ã¼ã™ã¹ã¦ã§ã‚ã‚‹ã€‚ 6.3.6 ã‚¹ã‚¿ãƒ¡ãƒ³ã‹ã©ã†ã‹ã§ã‚ã‘ã‚‹ åŠåˆ†ä»¥ä¸Šã®è©¦åˆã§ã‚¹ã‚¿ãƒ¡ãƒ³ã®é¸æ‰‹ã®ã¿ã§ã€ã‚¯ãƒ©ã‚¹ã‚¿ã®é›†è¨ˆã‚’ã—ã¦ã¿ã‚‹ã€‚ data_pca80 %&gt;% left_join(data_2000_uniquename_5pos_clean %&gt;% select(Player, GS), by = &quot;Player&quot;) %&gt;% filter(GS &gt;= 41) %&gt;% group_by(kmeans3) %&gt;% count() # A tibble: 2 x 2 # Groups: kmeans3 [2] kmeans3 n &lt;fct&gt; &lt;int&gt; 1 1 39 2 2 120 é€†ã«ã€åŠåˆ†ã®è©¦åˆã§ã‚¹ã‚¿ãƒ¡ãƒ³ã§ãªã„ã‚¯ãƒ©ã‚¹ã‚¿ã‚’é›†è¨ˆã™ã‚‹ã¨ã“ã†ãªã‚‹ã€‚ data_pca80 %&gt;% left_join(data_2000_uniquename_5pos_clean %&gt;% select(Player, GS), by = &quot;Player&quot;) %&gt;% filter(GS &lt;= 41) %&gt;% group_by(kmeans3) %&gt;% count() # A tibble: 3 x 2 # Groups: kmeans3 [3] kmeans3 n &lt;fct&gt; &lt;int&gt; 1 1 299 2 2 38 3 3 926 6.4 é›‘æ„Ÿ ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚¿ã¨ã„ã†æœŸå¾…ã—ã¦ã„ãŸçµæœã«ã¯ãªã‚‰ãªã‹ã£ãŸãŒã€ã“ã‚Œã¯ã“ã‚Œã§é¢ç™½ã„çµæœã«ãªã£ãŸã¨æ€ã†ã€‚ ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã«ã‹ã‘ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å–æ¨é¸æŠã™ã‚‹ã¨ã‹ãªã‚“ã¨ã‹ã™ã‚Œã°ï¼ˆãŸã¨ãˆã°èº«é•·ãƒ»ä½“é‡ã¨ä½•ã‹ã ã‘ã¨ã‹ï¼‰ã€ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚¿ã‚‚ã§ãã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ ä»–ã«ã‚‚ã€å¹´ä»£åˆ¥ã¨ã‹ã§ã‚‚ã£ã¨åˆ†æãŒã§ããã†ã ãªã¨æ„Ÿã˜ãŸã€‚æ™‚é–“ãŒã‚ã‚Œã°ã‚„ã‚‹ï¼ï¼ï¼ï¼ "]
]
